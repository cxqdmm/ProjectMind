{
  "toolName": "call",
  "type": "call",
  "content": "{\n  \"filename\": \"packages/vue-pc/src/views/pageManager/list/store.ts\",\n  \"content\": \"diff --git a/packages/vue-pc/src/views/pageManager/list/store.ts b/packages/vue-pc/src/views/pageManager/list/store.ts\\nindex 0cd8be6..d7208fc 100644\\n--- a/packages/vue-pc/src/views/pageManager/list/store.ts\\n+++ b/packages/vue-pc/src/views/pageManager/list/store.ts\\n@@ -1,6 +1,6 @@\\n import { defineStore } from 'pinia';\\n import { ref, reactive } from 'vue';\\n-import { getStatusOptions, getVersionOptions, getListData } from './api';\\n+import { getStatusOptions, getVersionOptions, getListData, type OptionItem } from './api';\\n \\n // 搜索项类型定义\\n export interface SearchParams {\\n@@ -69,11 +69,11 @@ export const usePageManagerListStore = defineStore('pageManagerList', () => {\\n   // 重置搜索参数\\n   const resetSearchParams = () => {\\n     Object.assign(searchParams, {\\n-      productName: '',\\n-      factoryName: '',\\n-      status: '',\\n-      templateCode: '',\\n-      createTimeRange: [],\\n+      productName: undefined,\\n+      factoryName: undefined,\\n+      status: undefined,\\n+      templateCode: undefined,\\n+      createTimeRange: null,\\n     });\\n   };\",\n  \"originalContent\": \"import { defineStore } from 'pinia';\\nimport { ref, reactive } from 'vue';\\nimport { getStatusOptions, getVersionOptions, getListData } from './api';\\n\\n// 搜索项类型定义\\nexport interface SearchParams {\\n  productName?: string; // 商品名称\\n  factoryName?: string; // 方案编码\\n  status?: string; // 状态\\n  templateCode?: string; // 版本编号\\n  createTimeRange?: [string, string] | null; // 生效时间范围\\n}\\n\\n// 列表数据项类型定义\\nexport interface ListItem {\\n  id: string;\\n  productName: string; // 商品名称\\n  officialFactoryName: string; // 销售方案名称\\n  officialFactoryCode: string; // 销售方案编码\\n  testDate: string; // 实测日期\\n  templateCode: string; // 版本编号\\n  createTime: string; // 生效时间\\n  status: 'initial' | 'processing' | 'completed' | 'failed' | 'published'; // 状态\\n  statusText: string; // 状态文本\\n}\\n\\n// 分页信息类型\\nexport interface PaginationInfo {\\n  current: number;\\n  pageSize: number;\\n  total: number;\\n}\\n\\n// 选项类型\\nexport interface OptionItem {\\n  label: string;\\n  value: string;\\n}\\n\\nexport const usePageManagerListStore = defineStore('pageManagerList', () => {\\n  // 搜索参数\\n  const searchParams = reactive<SearchParams>({\\n    productName: '',\\n    factoryName: '',\\n    status: undefined,\\n    templateCode: undefined,\\n    createTimeRange: null,\\n  });\\n\\n  // 列表数据\\n  const listData = ref<ListItem[]>([]);\\n\\n  // 加载状态\\n  const loading = ref(false);\\n\\n  // 分页信息\\n  const pagination = reactive<PaginationInfo>({\\n    current: 1,\\n    pageSize: 10,\\n    total: 0,\\n  });\\n\\n  // 状态选项\\n  const statusOptions = ref<OptionItem[]>([]);\\n\\n  // 版本编号选项\\n  const versionOptions = ref<OptionItem[]>([]);\\n\\n  // 重置搜索参数\\n  const resetSearchParams = () => {\\n    Object.assign(searchParams, {\\n      productName: '',\\n      factoryName: '',\\n      status: '',\\n      templateCode: '',\\n      createTimeRange: [],\\n    });\\n  };\\n\\n  // 获取列表数据\\n  const fetchListData = async () => {\\n    loading.value = true;\\n    try {\\n      const response = await getListData({\\n        ...searchParams,\\n        page: pagination.current,\\n        pageSize: pagination.pageSize,\\n      });\\n\\n      listData.value = response.list;\\n      pagination.total = response.total;\\n    } catch (error) {\\n      console.error('获取列表数据失败:', error);\\n    } finally {\\n      loading.value = false;\\n    }\\n  };\\n\\n  // 搜索\\n  const handleSearch = () => {\\n    pagination.current = 1;\\n    fetchListData();\\n  };\\n\\n  // 重置\\n  const handleReset = () => {\\n    resetSearchParams();\\n    pagination.current = 1;\\n    fetchListData();\\n  };\\n\\n  // 分页变化\\n  const handlePageChange = (page: number, pageSize: number) => {\\n    pagination.current = page;\\n    pagination.pageSize = pageSize;\\n    fetchListData();\\n  };\\n\\n  // 获取状态选项\\n  const fetchStatusOptions = async () => {\\n    try {\\n      const response = await getStatusOptions();\\n      statusOptions.value = response;\\n    } catch (error) {\\n      console.error('获取状态选项失败:', error);\\n    }\\n  };\\n\\n  // 获取版本编号选项\\n  const fetchVersionOptions = async () => {\\n    try {\\n      const response = await getVersionOptions();\\n      versionOptions.value = response;\\n    } catch (error) {\\n      console.error('获取版本选项失败:', error);\\n    }\\n  };\\n\\n  return {\\n    searchParams,\\n    listData,\\n    loading,\\n    pagination,\\n    statusOptions,\\n    versionOptions,\\n    resetSearchParams,\\n    fetchListData,\\n    handleSearch,\\n    handleReset,\\n    handlePageChange,\\n    fetchStatusOptions,\\n    fetchVersionOptions,\\n  };\\n});\",\n  \"newContent\": \"import { defineStore } from 'pinia';\\nimport { ref, reactive } from 'vue';\\nimport { getStatusOptions, getVersionOptions, getListData, type OptionItem } from './api';\\n\\n// 搜索项类型定义\\nexport interface SearchParams {\\n  productName?: string; // 商品名称\\n  factoryName?: string; // 方案编码\\n  status?: string; // 状态\\n  templateCode?: string; // 版本编号\\n  createTimeRange?: [string, string] | null; // 生效时间范围\\n}\\n\\n// 列表数据项类型定义\\nexport interface ListItem {\\n  id: string;\\n  productName: string; // 商品名称\\n  officialFactoryName: string; // 销售方案名称\\n  officialFactoryCode: string; // 销售方案编码\\n  testDate: string; // 实测日期\\n  templateCode: string; // 版本编号\\n  createTime: string; // 生效时间\\n  status: 'initial' | 'processing' | 'completed' | 'failed' | 'published'; // 状态\\n  statusText: string; // 状态文本\\n}\\n\\n// 分页信息类型\\nexport interface PaginationInfo {\\n  current: number;\\n  pageSize: number;\\n  total: number;\\n}\\n\\n// 选项类型\\nexport interface OptionItem {\\n  label: string;\\n  value: string;\\n}\\n\\nexport const usePageManagerListStore = defineStore('pageManagerList', () => {\\n  // 搜索参数\\n  const searchParams = reactive<SearchParams>({\\n    productName: '',\\n    factoryName: '',\\n    status: undefined,\\n    templateCode: undefined,\\n    createTimeRange: null,\\n  });\\n\\n  // 列表数据\\n  const listData = ref<ListItem[]>([]);\\n\\n  // 加载状态\\n  const loading = ref(false);\\n\\n  // 分页信息\\n  const pagination = reactive<PaginationInfo>({\\n    current: 1,\\n    pageSize: 10,\\n    total: 0,\\n  });\\n\\n  // 状态选项\\n  const statusOptions = ref<OptionItem[]>([]);\\n\\n  // 版本编号选项\\n  const versionOptions = ref<OptionItem[]>([]);\\n\\n  // 重置搜索参数\\n  const resetSearchParams = () => {\\n    Object.assign(searchParams, {\\n      productName: undefined,\\n      factoryName: undefined,\\n      status: undefined,\\n      templateCode: undefined,\\n      createTimeRange: null,\\n    });\\n  };\\n\\n  // 获取列表数据\\n  const fetchListData = async () => {\\n    loading.value = true;\\n    try {\\n      const response = await getListData({\\n        ...searchParams,\\n        page: pagination.current,\\n        pageSize: pagination.pageSize,\\n      });\\n\\n      listData.value = response.list;\\n      pagination.total = response.total;\\n    } catch (error) {\\n      console.error('获取列表数据失败:', error);\\n    } finally {\\n      loading.value = false;\\n    }\\n  };\\n\\n  // 搜索\\n  const handleSearch = () => {\\n    pagination.current = 1;\\n    fetchListData();\\n  };\\n\\n  // 重置\\n  const handleReset = () => {\\n    resetSearchParams();\\n    pagination.current = 1;\\n    fetchListData();\\n  };\\n\\n  // 分页变化\\n  const handlePageChange = (page: number, pageSize: number) => {\\n    pagination.current = page;\\n    pagination.pageSize = pageSize;\\n    fetchListData();\\n  };\\n\\n  // 获取状态选项\\n  const fetchStatusOptions = async () => {\\n    try {\\n      const response = await getStatusOptions();\\n      statusOptions.value = response;\\n    } catch (error) {\\n      console.error('获取状态选项失败:', error);\\n    }\\n  };\\n\\n  // 获取版本编号选项\\n  const fetchVersionOptions = async () => {\\n    try {\\n      const response = await getVersionOptions();\\n      versionOptions.value = response;\\n    } catch (error) {\\n      console.error('获取版本选项失败:', error);\\n    }\\n  };\\n\\n  return {\\n    searchParams,\\n    listData,\\n    loading,\\n    pagination,\\n    statusOptions,\\n    versionOptions,\\n    resetSearchParams,\\n    fetchListData,\\n    handleSearch,\\n    handleReset,\\n    handlePageChange,\\n    fetchStatusOptions,\\n    fetchVersionOptions,\\n  };\\n});\",\n  \"stats\": {\n    \"additions\": 6,\n    \"deletions\": 6,\n    \"status\": \"modified\"\n  },\n  \"summary\": {\n    \"additions\": 6,\n    \"deletions\": 6,\n    \"totalChanges\": 12,\n    \"status\": \"modified\"\n  },\n  \"desc\": \"/Users/mac/Documents/cxq/lerna-demo 仓库 master 分支和 test 分支中文件 packages/vue-pc/src/views/pageManager/list/store.ts 的 diff 内容\"\n}",
  "snippet": "/Users/mac/Documents/cxq/lerna-demo 仓库 master 分支和 test 分支中文件 packages/vue-pc/src/views/pageManager/list/store.ts 的 diff 内容",
  "skill": "code_review",
  "skillDescription": "",
  "script": "scripts/getDiffinfoOfFile.js",
  "createdAt": 1768546381516,
  "updatedAt": 1768546381516,
  "meta": {
    "name": "",
    "description": "",
    "type": "object",
    "desc": "/Users/mac/Documents/cxq/lerna-demo 仓库 master 分支和 test 分支中文件 packages/vue-pc/src/views/pageManager/list/store.ts 的 diff 内容"
  },
  "deprecated": false
}