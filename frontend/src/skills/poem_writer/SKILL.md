---
name: 古诗编写
description: 当用户需要创作中文古诗（绝句/律诗/藏头诗等）时使用；根据主题、体裁与韵脚约束生成成品，并进行自检与润色。
version: 1.0.0
---
# 简要用途说明
根据用户给定的主题、体裁（五绝/七绝/五律/七律等）、韵脚或藏头要求，创作合格的中文古诗并自检。

## 概述
- 支持体裁选择：绝句（四句）、律诗（八句），默认七言绝句
- 支持约束：韵脚、意象、意境、藏头词
- 支持生成后自检：违禁现代词、韵脚一致性、对仗（律诗中颔/颈联）

## 前置条件
- 用户意图与要素：`主题`、`体裁`（可选）、`韵脚`（可选）、`藏头`（可选）
- 如信息不足，先澄清后再生成
- 可调用 `scripts/tool.js` 获取体裁约束与韵脚建议

## 操作步骤
### 步骤 1：澄清与设定
- 若缺少要素，先询问：主题、体裁（五绝/七绝/五律/七律）、是否需要藏头、偏好韵脚或意境

### 步骤 2：加载参考
- 按需加载参考资料：`references/styles.md`（体裁说明）、`references/rhyme.md`（韵部示例）、`references/checklist.md`（自检清单）

### 步骤 3：获取约束
- 调用 `skill.execute`，输入 `{ theme, form, style, acrostic, rhyme }` 获取约束（行数、韵脚建议、平仄示例、意象建议）

### 步骤 4：创作与自检
- 依据约束生成诗作；按 `checklist` 自检并微调：韵脚统一、避免现代用语、对仗与节奏

## 输出格式
- 使用结构化输出：
```
作品：
<诗文本，逐句分行>

说明：
- 体裁：<七绝/五律...>
- 韵脚：<韵部或字样>
- 藏头：<若有>
- 意境要点：<简述>
```

## 错误处理
- 信息不足：先补充主题或体裁
- 生成失败：提示更明确的约束（例如给出目标意象与韵脚字）

## 示例
- “写一首关于春日柳莺的七言绝句”：默认七绝，韵脚建议“ang/ong”类；生成后自检避免现代词
- “写一首含‘春风拂面’的藏头诗”：按藏头约束组织每句首字

## 相关资源
- 体裁说明：`references/styles.md`
- 韵部示例：`references/rhyme.md`
- 自检清单：`references/checklist.md`
